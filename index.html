<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>MR HESHAN OFC / TECH-WEB</title>
<style>
  :root{
    --bg:#070709;
    --muted:#bdbdd0;
    --accent1:#ff3b6b;
    --accent2:#7b5cff;
    --accent3:#00e1ff;
    --glass-border: rgba(255,255,255,0.04);
    --card-w:360px;
    --topbar-h:64px;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;scroll-behavior:smooth}
  body{
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    background:
      radial-gradient(900px 500px at 10% 10%, rgba(123,92,255,0.06), transparent 6%),
      radial-gradient(800px 500px at 90% 90%, rgba(0,225,255,0.04), transparent 8%),
      var(--bg);
    color:#f7f7fb;
    -webkit-font-smoothing:antialiased;
    display:flex;
    justify-content:center;
    padding:0 18px;
    min-height:100vh;
    align-items:flex-start;
    flex-direction:column;
    gap:18px;
  }

  .page-inner{
    width:100%;
    max-width:960px;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:18px;
    /* ensure content sits below topbar so topbar doesn't overlap main photo */
    padding-top: calc(var(--topbar-h) + 24px);
  }

  /* TOP BAR */
  .topbar{
    position:fixed;top:14px;left:50%;transform:translateX(-50%);
    height:var(--topbar-h);
    width:clamp(320px,88vw,1200px);
    display:flex;justify-content:space-between;align-items:center;padding:10px 12px;gap:12px;border-radius:12px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid var(--glass-border);
    backdrop-filter: blur(6px) saturate(120%);
    box-shadow:0 8px 30px rgba(0,0,0,0.6);z-index:300;
  }
  .branding{display:flex;gap:12px;align-items:center;cursor:pointer}
  .brand-avatar{width:40px;height:40px;border-radius:50%;overflow:hidden;border:2px solid rgba(255,255,255,0.06)}
  .brand-avatar img{width:100%;height:100%;object-fit:cover}
  .brand-titles{display:flex;flex-direction:column}
  .brand-title{font-weight:800;font-size:14px;background:linear-gradient(90deg,var(--accent1),var(--accent2));-webkit-background-clip:text;color:transparent}
  .brand-sub{font-size:11px;color:var(--muted);margin-top:2px}

  .controls{display:flex;align-items:center;gap:10px}

  /* hamburger */
  .menu-btn{--size:44px;width:var(--size);height:var(--size);border-radius:10px;display:grid;place-items:center;position:relative;cursor:pointer;border:1px solid rgba(255,255,255,0.03);background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.12));transition:transform .15s}
  .menu-btn:active{transform:scale(.98)}
  .hamburger{width:22px;height:18px;position:relative}
  .bar{position:absolute;left:0;right:0;height:2px;border-radius:2px;background:linear-gradient(90deg,var(--accent1),var(--accent3));transition:transform .45s cubic-bezier(.2,.85,.2,1),opacity .2s}
  .b1{top:0}.b2{top:8px}.b3{top:16px}
  .menu-btn.open .b1{transform:translateY(8px) rotate(45deg)} .menu-btn.open .b2{opacity:0;transform:scaleX(.2)} .menu-btn.open .b3{transform:translateY(-8px) rotate(-45deg)}

  /* MAIN CARD */
  .main-card{
    width:var(--card-w);
    max-width:92vw;
    margin:0; /* controlled by page-inner padding-top now */
    padding:20px;border-radius:14px;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid var(--glass-border);
    box-shadow:0 10px 40px rgba(0,0,0,0.6);
    display:flex;flex-direction:column;align-items:center;gap:12px;backdrop-filter: blur(8px) saturate(120%);
  }

  /* Move profile ring slightly lower (more space above) */
  .profile-ring{width:220px;height:220px;display:grid;place-items:center;position:relative;margin-top:18px}
  .ring{position:absolute;inset:0;border-radius:50%;padding:5px;background:conic-gradient(from 120deg,var(--accent1),var(--accent2),var(--accent3),var(--accent1));-webkit-mask: radial-gradient(farthest-side, transparent calc(100% - 20px), black calc(100% - 20px));mask: radial-gradient(farthest-side, transparent calc(100% - 20px), black calc(100% - 20px));animation:spin 6s linear infinite;filter:drop-shadow(0 12px 40px rgba(0,0,0,0.6))}
  @keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}
  .profile-pic{width:150px;height:150px;border-radius:50%;object-fit:cover;border:6px solid rgba(10,10,10,0.75);z-index:2;background:linear-gradient(180deg,#111,#0b0b0b)}
  h1{margin:6px 0 0 0;font-size:20px;text-align:center}
  .subtitle{color:var(--muted);font-size:13px;text-align:center;margin-top:6px}
  .btns{width:100%;display:flex;flex-direction:column;gap:10px;margin-top:6px}
  .btns a{display:inline-flex;justify-content:center;align-items:center;padding:11px;border-radius:10px;text-decoration:none;font-weight:700;color:#071426;background:linear-gradient(90deg,var(--accent3),var(--accent2));box-shadow:0 6px 20px rgba(0,0,0,0.4)}
  .typing{margin-top:12px;font-size:14px;color:var(--muted);background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.02);text-align:center;min-height:64px}

  /* SECTION STYLES */
  section.content-section{width:100%;max-width:720px;padding:18px;border-radius:12px;background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid var(--glass-border);box-shadow:0 10px 40px rgba(0,0,0,0.5);backdrop-filter: blur(8px) saturate(120%);color:var(--muted)}
  .section-title{font-weight:800;margin-bottom:10px;color:#fff}

  /* ABOUT section */
  .about-body{font-size:15px;line-height:1.6;color:var(--muted)}

  /* PROFILE section */
  .profile-grid{display:flex;gap:18px;align-items:flex-start}
  .profile-side{width:120px;display:flex;flex-direction:column;align-items:center;gap:10px}
  .profile-side img{width:100px;height:100px;border-radius:12px;object-fit:cover;border:3px solid rgba(255,255,255,0.04)}
  .profile-details{flex:1}
  .skills{display:flex;flex-direction:column;gap:10px;margin-top:6px}
  .skill-row{display:flex;justify-content:space-between;align-items:center;gap:10px}
  .skill-name{font-size:13px;color:var(--muted);width:100px}
  .skill-bar{flex:1;height:10px;background:rgba(255,255,255,0.06);border-radius:999px;overflow:hidden}
  .skill-fill{height:100%;border-radius:999px;background:linear-gradient(90deg,var(--accent1),var(--accent3));width:0%;transition:width .8s cubic-bezier(.2,.85,.2,1)}

  /* MENU PANEL & CIRCULAR REVEAL */
  .menu-panel{position:fixed;top:10px;right:10px;width:360px;height:360px;pointer-events:none;z-index:250;display:grid;place-items:center;transition:opacity .4s ease}
  .mask{position:absolute;right:12px;top:12px;width:56px;height:56px;border-radius:50%;background:radial-gradient(circle at 40% 30%, rgba(255,255,255,0.05), rgba(255,255,255,0.02));box-shadow:0 8px 30px rgba(0,0,0,0.45);transition:width .64s cubic-bezier(.12,.82,.18,1),height .64s cubic-bezier(.12,.82,.18,1);pointer-events:auto}
  .panel{position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center;pointer-events:none}
  .menu-inner{width:320px;max-width:92vw;padding:20px;border-radius:14px;backdrop-filter: blur(8px) saturate(130%);background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));border:1px solid var(--glass-border);box-shadow:0 18px 50px rgba(0,0,0,0.6);opacity:0;transform:translateY(6px) scale(.98);transition:opacity .42s ease .06s, transform .42s cubic-bezier(.2,.9,.2,1) .06s;pointer-events:auto;overflow:hidden}
  .menu-inner.shifted{padding-top:calc(var(--topbar-h) + 8px)}
  .menu-inner .top-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
  .menu-inner nav{display:flex;flex-direction:column;gap:12px}
  .menu-item{color:var(--muted);font-weight:700;font-size:16px;text-decoration:none;display:flex;align-items:center;gap:12px;padding:8px 10px;border-radius:8px;transition:transform .25s ease,background .18s}
  .menu-item:hover{transform:translateX(6px);background:rgba(255,255,255,0.02)}
  .social-row{margin-top:12px;display:flex;gap:10px;flex-wrap:wrap}
  .social-link{padding:8px 10px;border-radius:8px;background:linear-gradient(90deg,var(--accent3),var(--accent2));color:#071426;font-weight:800;text-decoration:none}

  /* FOOTER */
  .site-footer{
    width:100%;
    max-width:920px;
    margin-top:6px;
    margin-bottom:6px;
    border-radius:12px;
    padding:12px 14px;
    display:flex;
    gap:12px;
    align-items:center;
    justify-content:space-between;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid var(--glass-border);
    box-shadow:0 12px 40px rgba(0,0,0,0.45);
    backdrop-filter: blur(8px) saturate(120%);
    color:var(--muted);
  }
  .footer-left{display:flex;flex-direction:column;gap:6px}
  .footer-links{display:flex;gap:12px;flex-wrap:wrap}
  .footer-links button{background:transparent;border:0;color:var(--muted);font-weight:700;font-size:14px;cursor:pointer;padding:6px;border-radius:6px}
  .footer-links button:hover{background:rgba(255,255,255,0.02)}
  .footer-right{display:flex;align-items:center;gap:12px}
  .footer-social a{padding:8px 10px;border-radius:8px;background:linear-gradient(90deg,var(--accent3),var(--accent2));color:#071426;font-weight:800;text-decoration:none;margin-left:6px}
  .made{font-size:13px;color:var(--muted)}
  @media (max-width:760px){
    .profile-grid{flex-direction:column;align-items:center}
    .profile-side{width:100%;flex-direction:row;gap:12px}
    .skill-name{width:90px}
    .site-footer{flex-direction:column;align-items:flex-start;padding:12px}
  }
</style>
</head>
<body>

  <div class="page-inner">

    <!-- Topbar -->
    <header class="topbar" role="banner">
      <div id="brand" class="branding" title="MR HESHAN OFC / TECH-WEB">
        <div class="brand-avatar"><img src="https://files.catbox.moe/nhrp9a.jpg" alt="avatar"></div>
        <div class="brand-titles">
          <div class="brand-title">MR HESHAN OFC / TECH-WEB</div>
          <div class="brand-sub">Full-Stack ¬∑ UI/UX ¬∑ Dev</div>
        </div>
      </div>

      <div class="controls">
        <button id="menuBtn" class="menu-btn" aria-expanded="false" aria-controls="mainMenu" aria-label="Open menu">
          <span class="hamburger" aria-hidden="true">
            <span class="bar b1"></span>
            <span class="bar b2"></span>
            <span class="bar b3"></span>
          </span>
        </button>
      </div>
    </header>

    <!-- Main profile card (Home) -->
    <main id="homeTarget" class="main-card" role="main" aria-labelledby="profileName">
      <div class="profile-ring">
        <div class="ring" aria-hidden="true"></div>
        <img class="profile-pic" src="https://files.catbox.moe/nhrp9a.jpg" alt="profile photo">
      </div>
      <h1 id="profileName">MR HESHAN OFC / TECH-WEB</h1>
      <div class="subtitle">Full-Stack Developer ¬∑ UI/UX Designer ¬∑ Tech Enthusiast</div>

      <div class="btns" role="navigation" aria-label="Quick links">
        <a href="https://wa.me/94719845166" target="_blank" rel="noopener">WhatsApp</a>
        <a href="https://youtube.com/@heshan_dh?si=7FTKlwZuo3_nU4Ss" target="_blank" rel="noopener">YouTube</a>
        <a href="https://t.me/94719845166" target="_blank" rel="noopener">Telegram</a>
      </div>

      <div class="typing" id="typing" aria-live="polite"></div>
    </main>

    <!-- ABOUT section (page-level) -->
    <section id="aboutSection" class="content-section" aria-labelledby="aboutTitle">
      <div class="section-title" id="aboutTitle">About</div>
      <div class="about-body" id="aboutBody"></div>
    </section>

    <!-- PROFILE section (page-level) -->
    <section id="profileSection" class="content-section" aria-labelledby="profileTitle">
      <div class="section-title" id="profileTitle">Profile</div>
      <div class="profile-grid">
        <div class="profile-side">
          <img src="https://files.catbox.moe/nhrp9a.jpg" alt="Dinidu Heshan">
          <div style="text-align:center">
            <div style="font-weight:800;margin-top:6px">Dinidu Heshan</div>
            <div style="font-size:13px;color:var(--muted)">Age: 18 ¬∑ Embilipitiya</div>
          </div>
        </div>
        <div class="profile-details">
          <div style="font-weight:700;color:#fff">Skills</div>
          <div class="skills" id="pageSkills">
            <div class="skill-row"><div class="skill-name">HTML/CSS</div><div class="skill-bar"><div class="skill-fill" data-pct="92"></div></div></div>
            <div class="skill-row"><div class="skill-name">JavaScript</div><div class="skill-bar"><div class="skill-fill" data-pct="86"></div></div></div>
            <div class="skill-row"><div class="skill-name">React</div><div class="skill-bar"><div class="skill-fill" data-pct="78"></div></div></div>
            <div class="skill-row"><div class="skill-name">UI/UX</div><div class="skill-bar"><div class="skill-fill" data-pct="70"></div></div></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Glass menu with circular reveal -->
    <div id="mainMenu" class="menu-panel" aria-hidden="true">
      <div id="mask" class="mask" aria-hidden="true"></div>
      <div class="panel" role="dialog" aria-label="Main Menu">
        <div class="menu-inner" id="menuInner" role="menu" aria-labelledby="menuBtn">

          <div class="top-row" id="menuTopRow"></div>

          <div id="menuContent">
            <nav>
              <a href="#home" class="menu-item" data-target="home">Home</a>
              <a href="#about" class="menu-item" data-target="about">About</a>
              <a href="#profile" class="menu-item" data-target="profile">Profile</a>
              <a href="#social" class="menu-item" data-target="social">Social Media</a>
            </nav>

            <div class="social-row" style="margin-top:10px">
              <a class="social-link" href="https://www.facebook.com/share/16vrFNkC8T/" target="_blank" rel="noopener">Facebook</a>
              <a class="social-link" href="https://vt.tiktok.com/ZSyEs3qbT/" target="_blank" rel="noopener">TikTok</a>
              <a class="social-link" href="https://youtube.com/@heshan_dh?si=7FTKlwZuo3_nU4Ss" target="_blank" rel="noopener">YouTube</a>
            </div>
          </div>

        </div>
      </div>
    </div>

    <!-- FOOTER -->
    <footer class="site-footer" role="contentinfo">
      <div class="footer-left">
        <div style="font-weight:800">MR HESHAN OFC / TECH-WEB</div>
        <div class="footer-links">
          <button id="footerHomeBtn">Home</button>
          <button id="footerAboutBtn">About</button>
          <button id="footerProfileBtn">Profile</button>
        </div>
      </div>

      <div class="footer-right">
        <div class="made">¬©PROFILE-WEB <span id="year"></span></div>
        <div class="footer-social">
          <a class="social-link" href="https://www.facebook.com/share/16vrFNkC8T/" target="_blank" rel="noopener">FB</a>
          <a class="social-link" href="https://vt.tiktok.com/ZSyEs3qbT/" target="_blank" rel="noopener">TT</a>
          <a class="social-link" href="https://youtube.com/@heshan_dh?si=7FTKlwZuo3_nU4Ss" target="_blank" rel="noopener">YT</a>
        </div>
      </div>
    </footer>

  </div><!-- .page-inner -->

<script>
/* footer year */
document.getElementById('year').textContent = new Date().getFullYear();

/* small main typing */
(function(){
  const lines = [
    "Name: Dinidu Heshan",
    "‡∂±‡∂∏ : ‡∂Ø‡∑í‡∂±‡∑í‡∂Ø‡∑î ‡∑Ñ‡∑ö‡∑Ç‡∑è‡∂±‡∑äüßö‚Äç‚ôÇÔ∏è",
    "From: Embilipitiya‚ú®",
    "‡∂±‡∂ú‡∂ª‡∂∫: ‡∂á‡∂π‡∑í‡∂Ω‡∑í‡∂¥‡∑í‡∂ß‡∑í‡∂∫üíê",
    "Age: 18 üïäÔ∏è",
    "‡∑Ä‡∂∫‡∑É: 18"
  ];
  let li=0, ci=0;
  const el=document.getElementById('typing');
  const speed=60;
  function type(){
    const cur=lines[li];
    el.textContent = cur.substring(0, ci);
    if(ci < cur.length){ ci++; setTimeout(type, speed); }
    else { ci=0; li=(li+1)%lines.length; setTimeout(type, 900); }
  }
  setTimeout(type, 700);
})();

/* Profile section skill animation on scroll into view */
(function(){
  const skillFills = document.querySelectorAll('#pageSkills .skill-fill');
  let animated = false;
  function animateSkills(){
    if(animated) return;
    const rect = document.getElementById('profileSection').getBoundingClientRect();
    if(rect.top < window.innerHeight - 80){
      animated = true;
      skillFills.forEach((f,i)=>{
        const pct = f.getAttribute('data-pct') || 60;
        setTimeout(()=> f.style.width = pct + '%', 120 + i*80);
      });
    }
  }
  window.addEventListener('scroll', animateSkills);
  setTimeout(animateSkills, 300);
})();

/* About typing for page-level About section */
(function(){
  const aboutTarget = document.getElementById('aboutBody');
  const aboutString = "Hello ‚Äî I'm Dinidu Heshan, an 18-year-old full-stack developer and UI/UX designer from Embilipitiya. I focus on building clean, responsive web interfaces and practical applications that deliver a smooth user experience. I enjoy solving problems with thoughtful design, optimizing performance, and learning modern web technologies. When I'm not coding I explore design trends and prototype user-centered interfaces.";
  let idx=0, timer=null, typed=false;
  function typeAbout(){
    if(typed) return;
    typed = true;
    idx=0;
    aboutTarget.textContent = '';
    function step(){
      aboutTarget.textContent = aboutString.substring(0, idx);
      idx++;
      if(idx <= aboutString.length) timer = setTimeout(step, 18);
    }
    step();
  }
  function check(){
    const rect = aboutTarget.getBoundingClientRect();
    if(rect.top < window.innerHeight - 80) typeAbout();
  }
  window.addEventListener('scroll', check);
  setTimeout(check, 300);
  window.typeAboutNow = typeAbout;
})();

/* MENU logic (keeps previous behaviour) */
(function(){
  const btn = document.getElementById('menuBtn');
  const panel = document.getElementById('mainMenu');
  const menuInner = document.getElementById('menuInner');
  const menuContent = document.getElementById('menuContent');
  const menuTopRow = document.getElementById('menuTopRow');
  let open=false, aboutTypingTimer=null, aboutTypingCancel=false;

  const profileData = {
    photo: 'https://files.catbox.moe/nhrp9a.jpg',
    name: 'Dinidu Heshan',
    age: '18',
    location: 'Embilipitiya',
    skills: [
      {name:'HTML/CSS', pct:92},
      {name:'JavaScript', pct:86},
      {name:'React', pct:78},
      {name:'UI/UX', pct:70}
    ]
  };

  function renderNav(){
    menuInner.classList.remove('shifted');
    menuTopRow.innerHTML = `<div style="font-weight:800">Menu</div><div style="font-size:12px;color:${getComputedStyle(document.documentElement).getPropertyValue('--muted')};">Quick links</div>`;
    menuContent.innerHTML = `
      <nav>
        <a href="#home" class="menu-item" data-target="home">Home</a>
        <a href="#about" class="menu-item" data-target="about">About</a>
        <a href="#profile" class="menu-item" data-target="profile">Profile</a>
        <a href="#social" class="menu-item" data-target="social">Social Media</a>
      </nav>
      <div class="social-row" style="margin-top:10px">
        <a class="social-link" href="https://www.facebook.com/share/16vrFNkC8T/" target="_blank" rel="noopener">Facebook</a>
        <a class="social-link" href="https://vt.tiktok.com/ZSyEs3qbT/" target="_blank" rel="noopener">TikTok</a>
        <a class="social-link" href="https://youtube.com/@heshan_dh?si=7FTKlwZuo3_nU4Ss" target="_blank" rel="noopener">YouTube</a>
      </div>`;
    attachNavClicks();
  }

  function renderProfile(){
    menuInner.classList.add('shifted');
    menuTopRow.innerHTML = `
      <div class="profile-card" style="width:100%">
        <img class="menu-profile-pic" src="${profileData.photo}" alt="profile">
        <div class="profile-info">
          <div class="profile-name">${profileData.name}</div>
          <div class="profile-meta">Age: ${profileData.age} ¬∑ ${profileData.location}</div>
        </div>
      </div>
    `;
    let skillsHtml = `<div class="skills">`;
    profileData.skills.forEach(s => {
      skillsHtml += `
        <div class="skill-row">
          <div class="skill-name">${s.name}</div>
          <div class="skill-bar"><div class="skill-fill" style="width:0%" data-pct="${s.pct}"></div></div>
        </div>`;
    });
    skillsHtml += `</div>`;
    menuContent.innerHTML = skillsHtml;
    requestAnimationFrame(()=> {
      const fills = menuContent.querySelectorAll('.skill-fill');
      fills.forEach((f,i) => {
        const p = f.getAttribute('data-pct') || 60;
        setTimeout(()=> f.style.width = p + '%', 120 + i*80);
      });
    });
  }

  function renderAbout(){
    menuInner.classList.add('shifted');
    menuTopRow.innerHTML = `
      <div class="profile-card" style="width:100%">
        <img class="menu-profile-pic" src="${profileData.photo}" alt="profile">
        <div class="profile-info">
          <div class="profile-name">${profileData.name}</div>
          <div class="profile-meta">Age: ${profileData.age} ¬∑ ${profileData.location}</div>
        </div>
      </div>
    `;
    menuContent.innerHTML = `<div class="about-text" id="menuAboutText"></div>`;
    const aboutString = "Hello ‚Äî I'm " + profileData.name + ", an 18-year-old full-stack developer and UI/UX designer from " + profileData.location + ". I focus on building clean, responsive web interfaces and practical applications that deliver a smooth user experience. I enjoy solving problems with thoughtful design, optimizing performance, and learning modern web technologies. When I'm not coding I explore design trends and prototype user-centered interfaces.";
    const target = document.getElementById('menuAboutText');
    if(!target) return;
    aboutTypingCancel = true;
    if (aboutTypingTimer) { clearTimeout(aboutTypingTimer); aboutTypingTimer = null; }
    aboutTypingCancel = false;
    target.textContent = '';
    let idx = 0, speed = 18;
    function step(){
      if(aboutTypingCancel) return;
      target.textContent = aboutString.substring(0, idx);
      idx++;
      if(idx <= aboutString.length) aboutTypingTimer = setTimeout(step, speed);
    }
    aboutTypingTimer = setTimeout(step, 260);
  }

  function attachNavClicks(){
    menuContent.querySelectorAll('.menu-item').forEach(a=>{
      a.addEventListener('click', (e)=>{
        e.preventDefault();
        const target = a.getAttribute('data-target');
        if(target === 'profile') { renderProfile(); }
        else if(target === 'about') { renderAbout(); }
        else if(target === 'home') {
          closeMenu();
          setTimeout(()=> document.getElementById('homeTarget').scrollIntoView({behavior:'smooth', block:'center'}), 120);
        }
        else if(target === 'social') { renderNav(); }
      });
    });
  }

  function openMenu(){
    open=true; btn.classList.add('open'); panel.classList.add('open'); panel.setAttribute('aria-hidden','false'); btn.setAttribute('aria-expanded','true');
    document.body.style.overflow='hidden';
    renderNav();
    setTimeout(()=> {
      const first = panel.querySelector('.menu-item');
      if(first) first.focus();
    }, 380);
    document.addEventListener('keydown', onKey);
  }
  function closeMenu(){
    open=false; btn.classList.remove('open'); panel.classList.remove('open'); panel.setAttribute('aria-hidden','true'); btn.setAttribute('aria-expanded','false');
    document.body.style.overflow='';
    aboutTypingCancel = true;
    if (aboutTypingTimer){ clearTimeout(aboutTypingTimer); aboutTypingTimer = null; }
    document.removeEventListener('keydown', onKey);
  }
  function toggle(){ if(open) closeMenu(); else openMenu(); }
  function onKey(e){ if(e.key==='Escape') closeMenu(); }

  btn.addEventListener('click', (e)=>{ e.stopPropagation(); toggle(); });
  btn.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); toggle(); } });

  document.addEventListener('click', (e)=>{
    if(!open) return;
    const inside = e.composedPath().includes(panel) || e.composedPath().includes(btn);
    if(!inside) closeMenu();
  });

  // footer buttons -> page actions
  document.getElementById('footerHomeBtn').addEventListener('click', function(){
    document.getElementById('homeTarget').scrollIntoView({behavior:'smooth', block:'center'});
  });
  document.getElementById('footerAboutBtn').addEventListener('click', function(){
    document.getElementById('aboutSection').scrollIntoView({behavior:'smooth', block:'center'});
    // trigger page-level about typing
    setTimeout(()=> { if(window.typeAboutNow) window.typeAboutNow(); }, 450);
  });
  document.getElementById('footerProfileBtn').addEventListener('click', function(){
    document.getElementById('profileSection').scrollIntoView({behavior:'smooth', block:'center'});
    // animate skills
    setTimeout(()=> {
      document.querySelectorAll('#profileSection .skill-fill').forEach((f,i)=>{
        const pct = f.getAttribute('data-pct') || 60;
        f.style.width = pct + '%';
      });
    }, 350);
  });

  // init
  renderNav();
})();
</script>

</body>
                                                                       </html>
